/* Liquid Glass Effects - Advanced Fluid Styling & Animations */

@import './liquid-glass-tokens.css';

/* ===== LIQUID GLASS BASE COMPONENTS ===== */

/* Core Liquid Glass Element */
.liquid-glass {
  background: var(--glass-bg-primary);
  backdrop-filter: var(--glass-backdrop);
  -webkit-backdrop-filter: var(--glass-backdrop);
  border: var(--glass-border);
  border-radius: var(--radius-16);
  box-shadow: var(--liquid-shadow-md);
  position: relative;
  overflow: hidden;
  transition: all var(--morph-duration-normal) var(--ease-liquid);
  transform: var(--gpu-transform);
  will-change: var(--gpu-will-change);
}

.liquid-glass::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-liquid-1);
  opacity: 0.3;
  z-index: -1;
  animation: liquidFlow 8s var(--ease-flow) infinite;
}

.liquid-glass::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle at 30% 20%,
    rgba(231, 162, 155, 0.1) 0%,
    transparent 50%
  ),
  radial-gradient(
    circle at 70% 80%,
    rgba(239, 124, 142, 0.1) 0%,
    transparent 50%
  );
  animation: liquidMorph 12s var(--ease-morph) infinite;
  z-index: -1;
  pointer-events: none;
}

/* Liquid Glass Variants */
.liquid-glass--strong {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--glass-backdrop-strong);
  -webkit-backdrop-filter: var(--glass-backdrop-strong);
  border: var(--glass-border-strong);
  box-shadow: var(--liquid-shadow-lg);
}

.liquid-glass--subtle {
  background: var(--glass-bg-subtle);
  backdrop-filter: var(--glass-backdrop-subtle);
  -webkit-backdrop-filter: var(--glass-backdrop-subtle);
  border: var(--glass-border-subtle);
  box-shadow: var(--liquid-shadow-sm);
}

.liquid-glass--morphing {
  border-radius: var(--radius-liquid-md);
  animation: liquidMorph 6s var(--ease-morph) infinite;
}

/* ===== INTERACTIVE LIQUID EFFECTS ===== */

/* Hover States */
.liquid-glass:hover {
  transform: scale(var(--hover-scale)) var(--gpu-transform);
  backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--hover-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--hover-saturate)));
  -webkit-backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--hover-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--hover-saturate)));
  box-shadow: var(--liquid-shadow-lg);
  filter: brightness(var(--hover-brightness));
}

.liquid-glass:hover::before {
  animation-duration: 4s;
  opacity: 0.5;
}

.liquid-glass:hover::after {
  animation-duration: 8s;
  opacity: 0.8;
}

/* Active States */
.liquid-glass:active {
  transform: scale(var(--active-scale)) var(--gpu-transform);
  backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--active-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--active-saturate)));
  -webkit-backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--active-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--active-saturate)));
  box-shadow: var(--liquid-shadow-sm);
  filter: brightness(var(--active-brightness));
}

/* Focus States */
.liquid-glass:focus-within {
  transform: scale(var(--focus-scale)) var(--gpu-transform);
  backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--focus-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--focus-saturate)));
  -webkit-backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--focus-blur))) 
    saturate(calc(var(--saturate-liquid) * var(--focus-saturate)));
  box-shadow: var(--liquid-shadow-lg), 
    0 0 0 3px rgba(231, 162, 155, 0.3);
  filter: brightness(var(--focus-brightness));
}

/* ===== FLUID ANIMATIONS ===== */

/* Liquid Flow Animation */
@keyframes liquidFlow {
  0% {
    background: var(--gradient-liquid-1);
    transform: translateX(-100%) translateY(-100%) rotate(0deg);
  }
  25% {
    background: var(--gradient-liquid-2);
    transform: translateX(0%) translateY(-50%) rotate(90deg);
  }
  50% {
    background: var(--gradient-liquid-3);
    transform: translateX(100%) translateY(0%) rotate(180deg);
  }
  75% {
    background: var(--gradient-liquid-2);
    transform: translateX(50%) translateY(100%) rotate(270deg);
  }
  100% {
    background: var(--gradient-liquid-1);
    transform: translateX(-100%) translateY(-100%) rotate(360deg);
  }
}

/* Liquid Morphing Animation */
@keyframes liquidMorph {
  0% {
    border-radius: var(--radius-liquid-sm);
    transform: scale(1) rotate(0deg);
  }
  25% {
    border-radius: var(--radius-liquid-md);
    transform: scale(1.05) rotate(90deg);
  }
  50% {
    border-radius: var(--radius-liquid-lg);
    transform: scale(1.1) rotate(180deg);
  }
  75% {
    border-radius: var(--radius-liquid-md);
    transform: scale(1.05) rotate(270deg);
  }
  100% {
    border-radius: var(--radius-liquid-sm);
    transform: scale(1) rotate(360deg);
  }
}

/* Liquid Pulse Animation */
@keyframes liquidPulse {
  0% {
    box-shadow: var(--liquid-shadow-sm);
    transform: scale(1);
  }
  50% {
    box-shadow: var(--liquid-shadow-lg);
    transform: scale(1.02);
  }
  100% {
    box-shadow: var(--liquid-shadow-sm);
    transform: scale(1);
  }
}

/* Liquid Ripple Animation */
@keyframes liquidRipple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* ===== LIQUID GLASS COMPONENTS ===== */

/* Liquid Glass Cards */
.liquid-glass-card {
  @extend .liquid-glass;
  padding: var(--space-24);
  margin: var(--space-16);
  min-height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.liquid-glass-card--interactive {
  cursor: pointer;
  user-select: none;
}

.liquid-glass-card--interactive:hover {
  transform: translateY(-8px) scale(var(--hover-scale)) var(--gpu-transform);
  box-shadow: var(--liquid-shadow-xl);
}

/* Liquid Glass Buttons */
.liquid-glass-btn {
  @extend .liquid-glass;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-12) var(--space-24);
  border: none;
  cursor: pointer;
  font-weight: var(--fw-semibold);
  text-decoration: none;
  position: relative;
  overflow: hidden;
}

.liquid-glass-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all var(--morph-duration-fast) var(--ease-liquid);
}

.liquid-glass-btn:hover::before {
  width: 300px;
  height: 300px;
}

.liquid-glass-btn:active {
  transform: scale(var(--active-scale)) var(--gpu-transform);
}

/* Liquid Glass Inputs */
.liquid-glass-input {
  @extend .liquid-glass;
  padding: var(--space-12) var(--space-16);
  border: var(--glass-border);
  background: var(--glass-bg-subtle);
  color: var(--text-body);
  font-size: var(--fs-15);
  width: 100%;
  transition: all var(--morph-duration-normal) var(--ease-liquid);
}

.liquid-glass-input:focus {
  outline: none;
  border: var(--glass-border-strong);
  background: var(--glass-bg-primary);
  box-shadow: var(--liquid-shadow-md), 
    0 0 0 3px rgba(231, 162, 155, 0.2);
}

.liquid-glass-input::placeholder {
  color: var(--text-muted);
  opacity: 0.7;
}

/* ===== LIQUID BACKGROUNDS ===== */

/* Animated Liquid Background */
.liquid-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

.liquid-background::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: 
    radial-gradient(circle at 20% 20%, rgba(231, 162, 155, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(239, 124, 142, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 60%, rgba(216, 167, 177, 0.1) 0%, transparent 50%);
  animation: liquidBackgroundFlow 20s var(--ease-flow) infinite;
}

.liquid-background::after {
  content: '';
  position: absolute;
  top: -25%;
  left: -25%;
  width: 150%;
  height: 150%;
  background: 
    radial-gradient(circle at 60% 40%, rgba(239, 124, 142, 0.08) 0%, transparent 60%),
    radial-gradient(circle at 30% 70%, rgba(216, 167, 177, 0.08) 0%, transparent 60%),
    radial-gradient(circle at 70% 30%, rgba(231, 162, 155, 0.08) 0%, transparent 60%);
  animation: liquidBackgroundMorph 25s var(--ease-morph) infinite reverse;
}

/* Liquid Background Animations */
@keyframes liquidBackgroundFlow {
  0% {
    transform: translateX(0%) translateY(0%) rotate(0deg);
  }
  25% {
    transform: translateX(-10%) translateY(-5%) rotate(90deg);
  }
  50% {
    transform: translateX(-20%) translateY(-10%) rotate(180deg);
  }
  75% {
    transform: translateX(-10%) translateY(-15%) rotate(270deg);
  }
  100% {
    transform: translateX(0%) translateY(0%) rotate(360deg);
  }
}

@keyframes liquidBackgroundMorph {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.1) rotate(180deg);
    opacity: 0.6;
  }
  100% {
    transform: scale(1) rotate(360deg);
    opacity: 0.8;
  }
}

/* ===== LIQUID PARTICLE EFFECTS ===== */

/* Floating Liquid Particles */
.liquid-particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.liquid-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--liquid-primary);
  border-radius: 50%;
  opacity: 0.6;
  animation: liquidParticleFloat 8s var(--ease-flow) infinite;
}

.liquid-particle:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
.liquid-particle:nth-child(2) { top: 40%; left: 80%; animation-delay: 2s; }
.liquid-particle:nth-child(3) { top: 60%; left: 30%; animation-delay: 4s; }
.liquid-particle:nth-child(4) { top: 80%; left: 70%; animation-delay: 6s; }
.liquid-particle:nth-child(5) { top: 30%; left: 50%; animation-delay: 1s; }
.liquid-particle:nth-child(6) { top: 70%; left: 20%; animation-delay: 3s; }

@keyframes liquidParticleFloat {
  0% {
    transform: translateY(0px) translateX(0px) scale(1);
    opacity: 0.6;
  }
  25% {
    transform: translateY(-20px) translateX(10px) scale(1.2);
    opacity: 0.8;
  }
  50% {
    transform: translateY(-10px) translateX(-10px) scale(0.8);
    opacity: 0.4;
  }
  75% {
    transform: translateY(-30px) translateX(5px) scale(1.1);
    opacity: 0.7;
  }
  100% {
    transform: translateY(0px) translateX(0px) scale(1);
    opacity: 0.6;
  }
}

/* ===== RESPONSIVE LIQUID ADJUSTMENTS ===== */

/* Mobile Optimizations */
@media (max-width: 768px) {
  .liquid-glass {
    backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--liquid-mobile-blur))) 
      saturate(calc(var(--saturate-liquid) * var(--liquid-mobile-saturate)));
    -webkit-backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--liquid-mobile-blur))) 
      saturate(calc(var(--saturate-liquid) * var(--liquid-mobile-saturate)));
    transform: scale(var(--liquid-mobile-scale)) var(--gpu-transform);
  }
  
  .liquid-glass:hover {
    transform: scale(calc(var(--hover-scale) * var(--liquid-mobile-scale))) var(--gpu-transform);
  }
  
  .liquid-background::before,
  .liquid-background::after {
    animation-duration: 15s;
  }
  
  .liquid-particle {
    width: 3px;
    height: 3px;
  }
}

/* Tablet Optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
  .liquid-glass {
    backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--liquid-tablet-blur))) 
      saturate(calc(var(--saturate-liquid) * var(--liquid-tablet-saturate)));
    -webkit-backdrop-filter: blur(calc(var(--blur-liquid-md) * var(--liquid-tablet-blur))) 
      saturate(calc(var(--saturate-liquid) * var(--liquid-tablet-saturate)));
    transform: scale(var(--liquid-tablet-scale)) var(--gpu-transform);
  }
  
  .liquid-glass:hover {
    transform: scale(calc(var(--hover-scale) * var(--liquid-tablet-scale))) var(--gpu-transform);
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .liquid-glass,
  .liquid-glass::before,
  .liquid-glass::after,
  .liquid-background::before,
  .liquid-background::after,
  .liquid-particle {
    animation: none !important;
    transition: none !important;
  }
  
  .liquid-glass:hover {
    transform: none !important;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .liquid-glass {
    background: var(--glass-bg-primary);
    border: var(--glass-border);
    box-shadow: var(--liquid-shadow-sm);
  }
  
  .liquid-glass::before,
  .liquid-glass::after {
    display: none;
  }
  
  .liquid-background::before,
  .liquid-background::after {
    display: none;
  }
  
  .liquid-particles {
    display: none;
  }
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */

/* GPU Acceleration for Smooth Animations */
.liquid-glass,
.liquid-glass::before,
.liquid-glass::after,
.liquid-background::before,
.liquid-background::after,
.liquid-particle {
  transform: var(--gpu-transform);
  will-change: var(--gpu-will-change);
}

/* Optimize for 60fps */
.liquid-glass {
  contain: layout style paint;
}

/* Reduce repaints on mobile */
@media (max-width: 768px) {
  .liquid-glass {
    contain: strict;
  }
}